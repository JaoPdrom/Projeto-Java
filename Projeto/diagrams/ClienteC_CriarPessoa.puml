@startuml
title Fluxograma CriarPessoa() - ClienteC
start
:Read UI fields (documento, nome, email, ativo);
if (documento empty?) then (yes)
  :Exception "Documento obrigatorio";
  stop
else (no)
endif
if (nome empty?) then (yes)
  :Exception "Nome obrigatorio";
  stop
else (no)
endif
:tipoPessoa = obterTipoPessoaSelecionada();
if (tipoPessoa == null) then (yes)
  :Exception "Tipo de pessoa obrigatorio";
  stop
else (no)
endif
:endereco = montarEnderecoAtual();
if (txtTelNumero filled?) then (yes)
  :Create TelefoneVO (codPais, ddd, numero, cpf);
else (no)
  :tel = null;
endif
:Build PessoaVO (cpf, nome, email, ativo, tipoPessoa);
:Add endereco to list;
if (tel != null) then (yes)
  :Add telefone to list;
endif
:PessoaRN.adicionarPessoa(pessoa);
:Create ClienteVO (cpf);
if (dtpDataCadastro != null) then (yes)
  :cliente.cli_dtCadastro = dtpDataCadastro;
endif
:ClienteRN.salvarNovo(cliente, null, null);
stop
@enduml